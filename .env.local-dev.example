# Local development environment for Baserow
# Copy this file to .env.local and adjust as needed
#
# This file is for running Baserow OUTSIDE of Docker (native Python/Node).
# For Docker development, use .env.dev.example instead.
#
# =============================================================================
# Django Settings
# =============================================================================
DJANGO_SETTINGS_MODULE=baserow.config.settings.dev
# For running tests:
# DJANGO_SETTINGS_MODULE=baserow.config.settings.test

# =============================================================================
# Security (use same values as in env.docker-dev for local dev only!)
# =============================================================================
SECRET_KEY=baserow  # CHANGE THIS IN PRODUCTION!

# =============================================================================
# Database (local PostgreSQL)
# =============================================================================
DATABASE_HOST=localhost
# speed up operations and tests (must be single line, quoted for bash sourcing)
POSTGRES_DEV_EXTRA_ARGS="-c shared_buffers=512MB -c fsync=off -c full_page_writes=off -c synchronous_commit=off -c max_locks_per_transaction=512 -c logging_collector=off -c log_statement=none -c log_duration=off -c log_min_duration_statement=-1 -c log_checkpoints=off -c log_connections=off -c log_disconnections=off -c log_lock_waits=off -c log_temp_files=-1 -c checkpoint_timeout=1h -c max_wal_size=10GB -c min_wal_size=1GB -c wal_level=minimal -c max_wal_senders=0 -c autovacuum=off -c random_page_cost=1.0 -c effective_io_concurrency=200 -c work_mem=256MB -c maintenance_work_mem=512MB"

# Or use a connection URL:
# DATABASE_URL=postgresql://baserow:baserow@localhost:5432/baserow

# =============================================================================
# Redis (local Redis)
# =============================================================================
REDIS_HOST=localhost
REDIS_PASSWORD=baserow

# =============================================================================
# URLs
# =============================================================================
BASEROW_PUBLIC_URL=
PUBLIC_BACKEND_URL=http://localhost:8000
PUBLIC_WEB_FRONTEND_URL=http://localhost:3000
PRIVATE_BACKEND_URL=http://localhost:8000

# =============================================================================
# Backend Development Settings
# =============================================================================
BASEROW_BACKEND_DEBUG=on
BASEROW_BACKEND_LOG_LEVEL=INFO

# Disable template sync on startup for faster boot
SYNC_TEMPLATES_ON_STARTUP=false
MIGRATE_ON_STARTUP=false

# =============================================================================
# Email (mailhog via Docker - intercepts all emails)
# =============================================================================
# Mailhog web UI: http://localhost:8025
EMAIL_HOST=localhost
EMAIL_PORT=1025

# =============================================================================
# Optional: Celery
# =============================================================================
# Run celery tasks synchronously (no separate worker needed)
# CELERY_TASK_ALWAYS_EAGER=true

# =============================================================================
# Media files (path relative to the backend folder)
# =============================================================================
MEDIA_ROOT=media
MEDIA_URL=http://localhost:8000/media/
